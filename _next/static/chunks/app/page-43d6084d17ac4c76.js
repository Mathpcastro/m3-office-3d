(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5670:function(e,t,s){Promise.resolve().then(s.bind(s,6512))},6512:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return E}});var r=s(7437),a=s(166),n=s(6355),i=s(5863),o=s(2252),l=s(6901),c=s(8685),d=s(4508);function m(e){let{task:t,phase:s,progress:a,elapsedTime:n,isLoading:m,error:u}=e;return(0,r.jsx)("div",{className:"bg-slate-900/90 backdrop-blur-sm border-b border-slate-700 px-6 py-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full animate-pulse ".concat((e=>{switch(e){case"completed":return"bg-emerald-500";case"error":return"bg-red-500";case"idle":return"bg-gray-500";default:return"bg-blue-500"}})(s))}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-white font-semibold text-lg",children:t||"Aguardando tarefa..."}),(0,r.jsx)("p",{className:"text-slate-400 text-sm",children:c.Kt[s]||s})]})]}),(0,r.jsx)("div",{className:"flex items-center gap-4",children:(0,r.jsxs)("div",{className:"w-48",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs text-slate-400 mb-1",children:[(0,r.jsx)("span",{children:"Progresso"}),(0,r.jsxs)("span",{children:[Math.round(a),"%"]})]}),(0,r.jsx)("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-emerald-500 transition-all duration-300",style:{width:"".concat(a,"%")}})})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-slate-400 text-xs",children:"Tempo decorrido"}),(0,r.jsx)("p",{className:"text-white font-mono",children:(0,d.LU)(n)})]}),m&&(0,r.jsx)(i.Z,{className:"w-5 h-5 text-blue-400 animate-spin"}),u&&(0,r.jsx)("div",{title:u,className:"flex items-center",children:(0,r.jsx)(o.Z,{className:"w-5 h-5 text-red-400"})}),"completed"===s&&(0,r.jsx)(l.Z,{className:"w-5 h-5 text-emerald-400"})]})]})})}var u=s(3810),x=s(3468),h=s(1585),p=s(5302),g=s(8617);function f(e){let{agent:t,state:s,isActive:a}=e,n={organizer:x.Z,coder:h.Z,verifier:p.Z,maestro:g.Z}[s.type];return(0,r.jsxs)(u.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"w-72 rounded-lg border backdrop-blur-sm transition-all duration-300 ".concat(a?"bg-slate-800/90 border-"+t.color.primary.replace("#",""):"bg-slate-900/80 border-slate-700"),style:{borderColor:a?t.color.primary:void 0,boxShadow:a?"0 0 20px ".concat(t.color.primary,"30"):void 0},children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 p-4 border-b border-slate-700",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:"".concat(t.color.primary,"20")},children:(0,r.jsx)(n,{className:"w-5 h-5",style:{color:t.color.primary}})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"text-white font-medium",children:t.name}),(0,r.jsx)("p",{className:"text-slate-400 text-xs",children:t.description})]}),a&&(0,r.jsx)(i.Z,{className:"w-4 h-4 animate-spin",style:{color:t.color.primary}})]}),(0,r.jsxs)("div",{className:"p-4 space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-slate-400 text-sm",children:"Status"}),(0,r.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium border ".concat((e=>{switch(e){case"working":return"text-amber-400 bg-amber-400/10 border-amber-400/30";case"thinking":return"text-amber-500 bg-amber-500/10 border-amber-500/30";case"completed":return"text-emerald-400 bg-emerald-400/10 border-emerald-400/30";case"error":return"text-red-400 bg-red-400/10 border-red-400/30";default:return"text-slate-400 bg-slate-400/10 border-slate-400/30"}})(s.status)),children:c.Xh[s.status]||s.status})]}),a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-slate-400 text-sm",children:"Progresso"}),(0,r.jsxs)("span",{className:"text-white font-mono text-sm",children:[Math.round(s.progress),"%"]})]}),(0,r.jsx)("div",{className:"h-1.5 bg-slate-700 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"h-full transition-all duration-300 rounded-full",style:{width:"".concat(s.progress,"%"),backgroundColor:t.color.primary}})}),s.currentTask&&(0,r.jsx)("p",{className:"text-slate-300 text-xs truncate",children:s.currentTask})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-slate-700",children:[(0,r.jsx)("span",{className:"text-slate-400 text-xs",children:"Tentativas"}),(0,r.jsx)("span",{className:"text-slate-300 font-mono text-sm",children:s.attemptCount})]})]})]})}var b=s(7168),j=s(3581),v=s(2265);function N(e){let{onRefresh:t}=e,[s,a]=(0,v.useState)(!1),[n,i]=(0,v.useState)(!1),o=async()=>{i(!0),await t(),setTimeout(()=>i(!1),500)};return(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)("button",{onClick:o,disabled:n,className:"flex items-center gap-2 px-3 py-2 bg-slate-800 hover:bg-slate-700  text-slate-200 rounded-lg border border-slate-600  transition-colors disabled:opacity-50",title:"Atualizar estado",children:[(0,r.jsx)(b.Z,{className:"w-4 h-4 ".concat(n?"animate-spin":"")}),(0,r.jsx)("span",{className:"text-sm",children:"Atualizar"})]}),(0,r.jsxs)("button",{onClick:()=>{window.dispatchEvent(new CustomEvent("resetCamera"))},className:"flex items-center gap-2 px-3 py-2 bg-slate-800 hover:bg-slate-700  text-slate-200 rounded-lg border border-slate-600  transition-colors",title:"Resetar c\xe2mera",children:[(0,r.jsx)(j.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"text-sm",children:"C\xe2mera"})]})]})}var w=s(3245);function y(){return(0,r.jsxs)("div",{className:"bg-slate-900/90 backdrop-blur-sm rounded-lg border border-slate-700 p-4 w-64",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsx)(w.Z,{className:"w-4 h-4 text-slate-400"}),(0,r.jsx)("span",{className:"text-slate-200 font-medium text-sm",children:"Legenda"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-slate-500 text-xs mb-2",children:"Agentes"}),(0,r.jsx)("div",{className:"space-y-1",children:[{name:"Organizer",color:"#3B82F6",description:"Planejamento"},{name:"Coder",color:"#10B981",description:"Implementa\xe7\xe3o"},{name:"Verifier",color:"#8B5CF6",description:"Verifica\xe7\xe3o"},{name:"Maestro",color:"#F59E0B",description:"Supervis\xe3o"}].map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,r.jsx)("span",{className:"text-slate-300 text-xs",children:e.name}),(0,r.jsx)("span",{className:"text-slate-500 text-xs ml-auto",children:e.description})]},e.name))})]}),(0,r.jsxs)("div",{className:"border-t border-slate-700 pt-2",children:[(0,r.jsx)("p",{className:"text-slate-500 text-xs mb-2",children:"Status"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-1",children:[{name:"Inativo",color:"#6B7280"},{name:"Trabalhando",color:"#FBBF24"},{name:"Pensando",color:"#F59E0B"},{name:"Conclu\xeddo",color:"#10B981"},{name:"Erro",color:"#EF4444"}].map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:e.color}}),(0,r.jsx)("span",{className:"text-slate-400 text-xs",children:e.name})]},e.name))})]})]})]})}var k=s(8920);function C(e){let{logs:t}=e,s=(0,v.useRef)(null);(0,v.useEffect)(()=>{s.current&&(s.current.scrollTop=s.current.scrollHeight)},[t]);let a=e=>{switch(e){case"success":return"text-emerald-400";case"error":return"text-red-400";case"warning":return"text-amber-400";default:return"text-slate-300"}},n=e=>({organizer:"text-blue-400",coder:"text-emerald-400",verifier:"text-violet-400",maestro:"text-amber-400"})[e]||"text-slate-400";return(0,r.jsxs)("div",{className:"w-80 bg-slate-900/90 backdrop-blur-sm rounded-lg border border-slate-700 overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 px-4 py-3 border-b border-slate-700 bg-slate-800/50",children:[(0,r.jsx)(k.Z,{className:"w-4 h-4 text-slate-400"}),(0,r.jsx)("span",{className:"text-slate-200 font-medium text-sm",children:"Logs"}),(0,r.jsxs)("span",{className:"ml-auto text-slate-500 text-xs",children:[t.length," entries"]})]}),(0,r.jsx)("div",{ref:s,className:"h-64 overflow-y-auto p-2 space-y-1 scrollbar-thin scrollbar-thumb-slate-600 scrollbar-track-transparent",children:0===t.length?(0,r.jsx)("div",{className:"text-center text-slate-500 py-8 text-sm",children:"Nenhum log dispon\xedvel"}):t.map((e,t)=>(0,r.jsxs)("div",{className:"flex gap-2 p-2 rounded hover:bg-slate-800/50 transition-colors",children:[(0,r.jsx)("span",{className:"text-slate-500 text-xs font-mono whitespace-nowrap",children:(0,d.i$)(e.timestamp)}),(0,r.jsx)("span",{className:"text-xs font-medium uppercase ".concat(n(e.agent)),children:e.agent.slice(0,3)}),(0,r.jsx)("span",{className:"text-xs ".concat(a(e.level)," flex-1 truncate"),children:e.message})]},"".concat(e.timestamp,"-").concat(t)))})]})}function B(){let{state:e,isLoading:t,error:s,refresh:a}=(0,n.vH)(),i=(0,n.gd)(20);return(0,r.jsxs)("div",{className:"absolute inset-0 pointer-events-none flex flex-col",children:[(0,r.jsx)("div",{className:"pointer-events-auto",children:(0,r.jsx)(m,{task:e.task,phase:e.status,progress:e.progress,elapsedTime:Date.now()-e.timestamp,isLoading:t,error:s})}),(0,r.jsxs)("div",{className:"flex-1 flex justify-between p-4",children:[(0,r.jsx)("div",{className:"flex flex-col gap-3 pointer-events-auto",children:c.cc.map(t=>{let s=(0,d.w2)(t.agent,e.status),a=e.currentAgent===t.agent;return(0,r.jsx)(f,{agent:{type:t.agent,name:c.eH[t.agent].name,description:c.eH[t.agent].description,color:{primary:t.deskColor,secondary:t.chairColor,glow:t.deskColor}},state:{type:t.agent,status:s,currentTask:a?e.task:null,progress:a?e.progress:0,attemptCount:e.attempts[t.agent],lastUpdate:e.timestamp},isActive:a},t.agent)})}),(0,r.jsxs)("div",{className:"flex flex-col gap-3 pointer-events-auto",children:[(0,r.jsx)(C,{logs:i}),(0,r.jsx)(N,{onRefresh:a}),(0,r.jsx)(y,{})]})]})]})}let F=(0,a.default)(()=>Promise.all([s.e(689),s.e(661),s.e(933)]).then(s.bind(s,8933)).then(e=>e.Office),{loadableGenerated:{webpack:()=>[8933]},ssr:!1,loading:()=>(0,r.jsx)("div",{className:"w-full h-screen flex items-center justify-center bg-slate-900",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-slate-300",children:"Carregando cena 3D..."})]})})});function E(){return(0,r.jsxs)("main",{className:"relative w-full h-screen overflow-hidden bg-slate-900",children:[(0,r.jsx)(F,{}),(0,r.jsx)(B,{})]})}},6355:function(e,t,s){"use strict";s.d(t,{gd:function(){return d},vH:function(){return c}});var r=s(2265),a=s(9625),n=s(8685);let i={task:"Aguardando tarefa...",status:"idle",currentAgent:null,progress:0,attempts:{organizer:0,coder:0,verifier:0,maestro:0},logs:[],timestamp:Date.now()},o=(0,a.Ue)((e,t)=>({state:i,isLoading:!1,error:null,setState:t=>{e({state:t})},updateProgress:t=>{e(e=>({state:{...e.state,progress:Math.min(100,Math.max(0,t)),timestamp:Date.now()}}))},setStatus:t=>{e(e=>({state:{...e.state,status:t,timestamp:Date.now()}}))},addLog:t=>{e(e=>({state:{...e.state,logs:[...e.state.logs,t].slice(-100),timestamp:Date.now()}}))},setLoading:t=>{e({isLoading:t})},setError:t=>{e({error:t})},refresh:async()=>{let{setState:e,setLoading:s,setError:r}=t();try{s(!0),r(null);let t=await fetch("/m3-state.json",{cache:"no-store",headers:{Accept:"application/json"}});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let a=await t.json(),n={task:a.task||"Tarefa em andamento",status:a.status||"idle",currentAgent:a.current_agent,progress:a.progress||0,attempts:a.attempts||{organizer:0,coder:0,verifier:0,maestro:0},logs:(a.logs||[]).map(e=>({timestamp:e.time||Date.now(),agent:e.agent,message:e.message,level:e.level||"info"})),timestamp:Date.now()};e(n)}catch(e){console.error("Failed to fetch M3 state:",e),r(e instanceof Error?e.message:"Unknown error")}finally{s(!1)}}})),l=null;function c(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,{state:s,isLoading:a,error:i,refresh:c}=o();return(0,r.useEffect)(()=>{if(e)return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.gT.interval;l&&clearInterval(l);let{refresh:t}=o.getState();return t(),l=setInterval(()=>{t()},e),()=>{l&&(clearInterval(l),l=null)}}(t)},[e,t]),{state:s,isLoading:a,error:i,refresh:c}}function d(e){let{state:t}=o(),s=t.logs;return e?s.slice(-e):s}},8685:function(e,t,s){"use strict";s.d(t,{DIMENSIONS:function(){return l},IH:function(){return o},Kt:function(){return u},Xh:function(){return x},cc:function(){return n},eH:function(){return i},gT:function(){return m},iA:function(){return d},ji:function(){return c},l9:function(){return r},yh:function(){return a}});let r={organizer:{primary:"#3B82F6",secondary:"#1D4ED8",glow:"#60A5FA"},coder:{primary:"#10B981",secondary:"#047857",glow:"#34D399"},verifier:{primary:"#8B5CF6",secondary:"#6D28D9",glow:"#A78BFA"},maestro:{primary:"#F59E0B",secondary:"#B45309",glow:"#FBBF24"}},a={idle:"#6B7280",working:"#FBBF24",completed:"#10B981",error:"#EF4444",thinking:"#F59E0B"},n=[{agent:"organizer",position:[-4,0,0],rotation:[0,Math.PI/6,0],deskColor:"#3B82F6",chairColor:"#1E40AF"},{agent:"coder",position:[0,0,0],rotation:[0,0,0],deskColor:"#10B981",chairColor:"#065F46"},{agent:"verifier",position:[4,0,0],rotation:[0,-Math.PI/6,0],deskColor:"#8B5CF6",chairColor:"#5B21B6"},{agent:"maestro",position:[0,0,-3],rotation:[0,Math.PI,0],deskColor:"#F59E0B",chairColor:"#B45309"}],i={organizer:{name:"Organizer",description:"Analisa requisitos e planeja a implementa\xe7\xe3o",icon:"LayoutGrid"},coder:{name:"Coder",description:"Implementa c\xf3digo e solu\xe7\xf5es t\xe9cnicas",icon:"Code2"},verifier:{name:"Verifier",description:"Testa e verifica a qualidade do c\xf3digo",icon:"CheckCircle"},maestro:{name:"Maestro",description:"Coordena e supervisiona todo o processo",icon:"Crown"}},o={camera:{position:[0,8,12],fov:50,near:.1,far:1e3},lighting:{ambient:{intensity:.4,color:"#ffffff"},directional:{position:[10,20,10],intensity:1,color:"#ffffff",castShadow:!0},pointLights:[{position:[-4,5,2],color:"#3B82F6",intensity:.3},{position:[0,5,2],color:"#10B981",intensity:.3},{position:[4,5,2],color:"#8B5CF6",intensity:.3},{position:[0,5,-2],color:"#F59E0B",intensity:.3}]},shadows:{enabled:!0,mapSize:2048,bias:-.0001},grid:{size:20,divisions:20,colorCenter:"#444444",colorGrid:"#222222"}},l={desk:{width:2.5,height:.8,depth:1.5,legThickness:.1},chair:{seatWidth:.8,seatDepth:.8,seatHeight:.1,backHeight:1,legHeight:.5},computer:{monitor:{width:1.2,height:.7,depth:.05,standHeight:.3},pc:{width:.3,height:.6,depth:.6}},avatar:{headRadius:.25,bodyHeight:.8,bodyRadius:.2}},c={idle:{amplitude:.02,frequency:2,duration:2e3},typing:{amplitude:.01,frequency:10,duration:100},thinking:{rotationAngle:.3,duration:1500},completed:{jumpHeight:.5,duration:500,bounce:1.5},error:{shakeIntensity:.1,shakeCount:5,duration:300},transition:{duration:300,easing:"easeInOut"}},d={resolution:{width:512,height:512},updateInterval:100,fontSize:{title:24,subtitle:16,body:14,terminal:12},colors:{background:"#0F172A",text:"#F8FAFC",accent:"#38BDF8",success:"#4ADE80",error:"#F87171",warning:"#FBBF24"}},m={interval:1e3,retryDelay:2e3,maxRetries:3},u={idle:"Aguardando",organizing:"Organizando",coding:"Codificando",verifying:"Verificando",maestro:"Supervis\xe3o",completed:"Conclu\xeddo",error:"Erro"},x={idle:"Inativo",working:"Trabalhando",thinking:"Pensando",completed:"Completado",error:"Erro"}},4508:function(e,t,s){"use strict";s.d(t,{GW:function(){return a},LU:function(){return i},i$:function(){return o},w2:function(){return l},z2:function(){return n}});var r=s(8685);function a(e){return r.l9[e]}function n(e){return r.yh[e]||r.yh.idle}function i(e){let t=Math.floor(e/1e3),s=Math.floor(t/60),r=Math.floor(s/60);return r>0?"".concat(r,"h ").concat(s%60,"m"):s>0?"".concat(s,"m ").concat(t%60,"s"):"".concat(t,"s")}function o(e){return new Date(e).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}function l(e,t){switch(t){case"organizing":return"organizer"===e?"working":"idle";case"coding":return"coder"===e?"working":"idle";case"verifying":return"verifier"===e?"working":"idle";case"maestro":return"maestro"===e?"working":"idle";case"completed":return"completed";case"error":return"error";default:return"idle"}}}},function(e){e.O(0,[100,971,117,744],function(){return e(e.s=5670)}),_N_E=e.O()}]);